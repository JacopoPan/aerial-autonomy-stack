name: simulation_tmuxinator

windows:
  - gz_sim:
      layout: even-horizontal
      panes:
        - > 
          GZ_SIM_SYSTEM_PLUGIN_PATH=/git/ardupilot_gazebo/build:$GZ_SIM_SYSTEM_PLUGIN_PATH 
          GZ_SIM_RESOURCE_PATH=/git/ardupilot_gazebo/models:/git/ardupilot_gazebo/worlds:$GZ_SIM_RESOURCE_PATH 
          gz sim -v4 -r iris_runway.sdf
        - ros2 run ros_gz_bridge parameter_bridge /clock@rosgraph_msgs/msg/Clock[gz.msgs.Clock
  - ardupilot_sitl:
      layout: even-horizontal
      panes:
        - /git/ardupilot/Tools/autotest/sim_vehicle.py -v ArduCopter -f gazebo-iris --model JSON
  - housekeeping:
      layout: even-horizontal
      panes:
        - htop
        - ip a && ss -tuln && echo $ROS_DISTRO && echo $ROS_DOMAIN_ID
        - gosu qgcuser /squashfs-root/AppRun